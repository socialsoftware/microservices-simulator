package {{packageName}};

{{#each imports}}
{{this}}
{{/each}}

@Entity
public class Saga{{aggregateName}} extends {{aggregateName}} implements SagaAggregate {
    private SagaState sagaState;

    public Saga{{aggregateName}}() {
        super();
        this.sagaState = GenericSagaState.NOT_IN_SAGA;
    }

    public Saga{{aggregateName}}(Saga{{aggregateName}} other) {
        super(other);
        this.sagaState = other.getSagaState();
    }

    {{#if constructorParams.hasRelationships}}
    public Saga{{aggregateName}}({{constructorParams.paramString}}) {
        super({{constructorParams.superCallString}});
        this.sagaState = GenericSagaState.NOT_IN_SAGA;
    }
    {{else}}
    public Saga{{aggregateName}}(Integer aggregateId, {{rootEntityName}}Dto {{lowerAggregate}}Dto) {
        super(aggregateId, {{lowerAggregate}}Dto);
        this.sagaState = GenericSagaState.NOT_IN_SAGA;
    }
    {{/if}}

    @Override
    public void setSagaState(SagaState state) {
        this.sagaState = state;
    }

    @Override
    public SagaState getSagaState() {
        return this.sagaState;
    }
}